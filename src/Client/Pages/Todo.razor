@page "/todo"
@using AutoStep.Editor.Shared

<h1>Todo (@todos.Count(todo => !todo.IsDone))</h1>

<ul>
    @foreach (var todo in todos)
    {
        <li>
            <input type="checkbox" @bind="todo.IsDone" />
            <input @bind="todo.Title" />
            <input @bind-value="todo.Value" @bind-value:event="oninput" />
        </li>
    }
</ul>

<input placeholder="Something todo" @bind-value="newTodo" @bind-value:event="oninput" />
<button @onclick="AddTodo" disabled="@(string.IsNullOrEmpty(newTodo))">Add Todo</button>


@code {
  private IList<TodoItem> todos = new List<TodoItem>();
  private string newTodo;

  private void AddTodo()
  {
      if(!string.IsNullOrWhiteSpace(newTodo))
      {
          todos.Add(new TodoItem
          {
              Title = newTodo
          });
          newTodo = string.Empty;
      }
  }
}
